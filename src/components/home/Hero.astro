---
import { useTranslations } from '../../i18n/utils';

export interface Props {
	lang?: string;
}

const { lang = 'en' } = Astro.props;
const t = useTranslations(lang as 'en' | 'es');
---

<!-- Hero Section with Parallax Landscape -->
<div class="hero-wrapper parallax-container" id="hero-section">
	<!-- Landscape Group -->
	<div class="landscape-group">
		<div class="parallax-layer layer-blob" data-speed="0.1">
			<img
				src="/images/new/home/Vector Blob.svg"
				alt="Vector Blob"
				class="parallax-image"
				loading="eager"
			/>
		</div>
		<div class="parallax-layer layer-clouds" data-speed="0.2">
			<img
				src="/images/new/home/landscape/Clouds.svg"
				alt="Clouds"
				class="parallax-image"
				loading="eager"
			/>
		</div>
		<div class="parallax-layer layer-mountains" data-speed="0.3">
			<img
				src="/images/new/home/landscape/mountains.svg"
				alt="Mountains"
				class="parallax-image"
				loading="eager"
			/>
		</div>
		<div class="parallax-layer layer-forest-left" data-speed="0.4">
			<img
				src="/images/new/home/landscape/forest-left.svg"
				alt="Forest"
				class="parallax-image"
				loading="eager"
			/>
		</div>
		<div class="parallax-layer layer-forest-right" data-speed="0.4">
			<img
				src="/images/new/home/landscape/forest-right.svg"
				alt="Forest Right"
				class="parallax-image"
				loading="eager"
			/>
		</div>
		<div class="parallax-layer layer-bird" data-speed="0.9">
			<img
				src="/images/new/home/landscape/Bird.svg"
				alt="Bird"
				class="parallax-image"
				loading="eager"
			/>
		</div>
	</div>

	<!-- Content Overlay -->
	<div class="content-container parallax-content" data-speed="0.4">
		<div class="hero-content">
			<h1 class="hero-title" set:html={t('heroNew.title')} />
		</div>
	</div>
</div>

<style>
	:global(body) {
		margin: 0;
		padding: 0;
	}

	:global(html) {
		margin: 0;
		padding: 0;
	}

	.hero-wrapper {
		position: relative;
		width: 100vw;
		height: 100vh;
		min-height: 800px;
		overflow: hidden;
		display: flex;
		align-items: center;
		justify-content: center;
		border-radius: 0;
		margin-bottom: 0;
		background: 
			/* Pattern SVG overlay */
			url("data:image/svg+xml,%3Csvg width='4' height='4' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='2' cy='2' r='2' fill='%23000' opacity='0.1'/%3E%3C/svg%3E"),
			/* Gradiente Radial Secundário com opacidade 20% */
				radial-gradient(
					252.76deg 116.83% at 50% 50%,
					rgba(255, 255, 255, 0) 0%,
					rgba(46, 58, 51, 0.2) 40%
				),
			/* Gradiente Radial Primário */
				radial-gradient(256.09deg 112.84% at 96.63% 6.02%, #faefe0 0%, #ccbba3 100%);
		background-size:
			4px 4px,
			100% 100%,
			100% 100%;
		background-position:
			0 0,
			center,
			center;
		background-repeat: repeat, no-repeat, no-repeat;
		background-attachment: fixed, fixed, fixed;
		background-blend-mode: normal;
	}

	.landscape-group {
		position: relative;
		width: 100%;
		height: 100%;
		box-sizing: border-box;
		transform: translateY(-32px);
	}

	.parallax-layer {
		position: absolute;
		will-change: transform;
		flex-shrink: 0;
		box-sizing: border-box;
		transform: translateZ(0);
		transition:
			top 0.8s ease-out,
			left 0.8s ease-out,
			right 0.8s ease-out,
			width 0.8s ease-out,
			height 0.8s ease-out;
	}

	.parallax-image {
		width: 100%;
		height: 100%;
		object-fit: contain;
		object-position: center;
		display: block;
	}

	.layer-blob {
		z-index: 0;
		width: 1463.516px;
		height: 1312.615px;
		right: -150px;
		top: -230px;
		transform: rotate(1.867deg);
	}

	.layer-clouds {
		z-index: 0;
		width: 2193.518px;
		height: 233.416px;
		left: 50%;
		top: 68px;
		transform: translateX(-50%);
	}

	.layer-mountains {
		z-index: 1;
		width: 3353.65px;
		height: 295.435px;
		left: 50%;
		top: 156px;
		transform: translateX(-50%);
	}

	.layer-forest-left {
		z-index: 3;
		width: 661px;
		height: 341px;
		top: 396px;
		left: -180px;
		transition: left 0.8s ease-out;
	}

	.layer-forest-right {
		z-index: 3;
		width: 661px;
		height: 341px;
		top: 396px;
		right: -180px;
		transition: right 0.8s ease-out;
	}

	.layer-bird {
		z-index: 4;
		width: 36px;
		height: 18px;
		left: 50%;
		margin-left: -18px;
		top: 114px;
		transform: rotate(1.21deg);
	}

	.content-container {
		position: absolute;
		z-index: 10;
		width: 100%;
		max-width: 1200px;
		top: 394px;
		left: 50%;
		padding: 0 20px;
		display: flex;
		align-items: center;
		justify-content: center;
	}

	.parallax-content {
		transform: translateX(-50%);
		will-change: transform;
	}

	.hero-content {
		text-align: center;
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 24px;
		max-width: 800px;
	}

	.hero-title {
		width: 100%;
		max-width: 804px;
		color: var(--Brand-SecondaryBrown, #54504b);
		text-align: center;
		text-shadow:
			0 -2px 4px rgba(0, 0, 0, 0.25),
			0 2px 4px rgba(255, 255, 255, 0.4);
		font-family: 'Young Serif', serif;
		font-size: clamp(40px, 8vw, 88px);
		font-style: normal;
		font-weight: 400;
		line-height: 1.1;
		letter-spacing: 2.64px;
		margin: 0;
	}

	/* Responsive Design */
	@media (max-width: 1370px) {
		.layer-forest-left {
			left: -280px;
		}

		.layer-forest-right {
			right: -280px;
		}
	}

	@media (max-width: 1140px) {
		.hero-wrapper {
			min-height: 800px;
		}

		.layer-blob {
			width: 100%;
			height: auto;
		}

		.layer-blob {
			max-height: 1312.615px;
			top: 10px;
		}
		.layer-clouds {
			max-height: 233.416px;
			top: 68px;
		}
		.layer-mountains {
			max-height: 295.435px;
		}

		.layer-forest-left {
			width: 600px; /* Increased slightly */
			height: auto;
			max-height: none;
		}
		.layer-forest-right {
			width: 600px; /* Increased slightly */
			height: auto;
			max-height: none;
		}

		.layer-forest-left {
			left: -350px;
		}

		.layer-forest-right {
			right: -350px;
			top: 350px;
		}

		.content-container {
			top: 366px;
		}
	}
	@media (max-width: 1024px) {
		.content-container {
			top: 360px;
		}
	}
	@media (max-width: 768px) {
		.hero-wrapper {
			min-height: 700px; /* Increased min-height */
		}

		.landscape-group {
			transform: translateY(-30px) scale(1.2); /* Reduced scale */
		}

		.layer-blob {
			width: 120%;
			max-height: none;
			right: -10%;
			top: -50px;
		}

		.layer-clouds {
			width: 120%;
			max-height: none;
			top: 0px; /* Moved up */
		}

		.layer-mountains {
			width: 120%;
			max-height: none;
			top: 26px; /* Moved up 48px from 80px */
		}

		.layer-forest-left {
			width: 400px !important;
			height: auto !important;
			max-height: none !important;
			top: 250px; /* Moved up */
			left: -180px;
		}

		.layer-forest-right {
			width: 400px !important;
			height: auto !important;
			max-height: none !important;
			top: 220px; /* Moved up */
			right: -200px;
		}

		.layer-bird {
			width: 28px;
			height: 14px;
			margin-left: -14px;
			top: 50px; /* Moved up */
		}

		.content-container {
			top: 360px;
			padding: 0 20px;
		}

		.hero-content {
			gap: 16px;
		}
	}

	@media (max-width: 526px) {
		.hero-wrapper {
			min-height: 460px;
			height: 620px;
		}

		.landscape-group {
			transform: translateY(0) scale(1.1);
		}

		.layer-blob {
			width: 150%;
			right: -25%;
			top: -100px;
		}

		.layer-clouds {
			width: 150%;
			top: -100px;
		}

		.layer-mountains {
			width: 150%;
			top: -90px;
		}

		.layer-forest-left {
			width: 300px !important;
			top: 150px;
			left: -150px;
		}

		.layer-forest-right {
			width: 300px !important;
			top: 130px;
			right: -170px;
		}

		.layer-bird {
			width: 24px;
			height: 12px;
			margin-left: -12px;
			top: -30px;
		}

		.content-container {
			top: 210px;
		}
	}

	@media (max-width: 422px) {
		.landscape-group {
			display: block;
			transform: translateY(0) scale(1);
		}

		.hero-wrapper {
			height: 580px;
			min-height: 400px;
		}

		.layer-blob {
			width: 170%;
			right: -35%;
			top: -140px;
		}

		.layer-clouds {
			width: 170%;
			top: -80px;
		}

		.layer-mountains {
			width: 170%;
			top: -70px;
		}

		.layer-forest-left {
			width: 240px !important;
			top: 160px;
			left: -130px;
		}

		.layer-forest-right {
			width: 240px !important;
			top: 140px;
			right: -150px;
		}

		.layer-bird {
			width: 20px;
			height: 10px;
			margin-left: -10px;
			top: -10px;
		}

		.content-container {
			top: 240px;
			transform: translateX(-50%);
		}
	}
</style>
