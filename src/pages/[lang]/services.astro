---
export const prerender = false;

export async function getStaticPaths() {
	return [{ params: { lang: 'en' } }, { params: { lang: 'es' } }];
}

import Layout from '../../layouts/Layout.astro';
import { useTranslations } from '../../i18n/utils';

// Import new redesigned components
import ServicesHero from '../../components/services/ServicesHero.astro';
import Capabilities from '../../components/services/Capabilities.astro';
import OurProcess from '../../components/services/OurProcess.astro';

const { lang } = Astro.params || { lang: 'en' };

if (lang && typeof lang === 'string' && !['en', 'es'].includes(lang)) {
	return new Response(null, {
		status: 404,
		statusText: 'Not Found',
	});
}

const t = useTranslations(lang as 'en' | 'es');
---

<Layout
	title={t('servicesNew.seo.title')}
	description={t('servicesNew.seo.description')}
	lang={lang}
>
	<main id="main-content">
		<ServicesHero lang={lang} />

		<Capabilities lang={lang} />

		<OurProcess lang={lang} />
	</main>
</Layout>

<style is:global>
	/* Override global background for services page to include the extra SVG */
	html,
	body {
		background:
			radial-gradient(
				256.09% 112.04% at 96.63% 6.02%,
				rgba(255, 255, 255, 0) 0%,
				rgba(46, 58, 51, 0.08) 100%
			),
			url('/images/new/home/dot-pattern.svg'), url('/images/new/services/Group 101.svg'),
			radial-gradient(283.15% 146.1% at 13.24% 9.21%, #faefe0 0%, #ccbba3 100%);
		background-size:
			100% 100%,
			9.24px 9.24px,
			100% 100%,
			100% 100%;
		background-position:
			center,
			0 0,
			center center,
			center;
		background-repeat: no-repeat, repeat, no-repeat, no-repeat;
		background-attachment: fixed, fixed, fixed, fixed;
		min-height: 100%;
	}

	@media (max-width: 768px) {
		html,
		body {
			background-size:
				100% 100%,
				9.24px 9.24px,
				150% 150%,
				100% 100%;
		}
	}

	@media (max-width: 480px) {
		html,
		body {
			background-size:
				100% 100%,
				9.24px 9.24px,
				150% 150%,
				100% 100%;
		}
	}
</style>
