---
export async function getStaticPaths() {
	return [{ params: { lang: 'en' } }, { params: { lang: 'es' } }];
}

import Layout from '../../layouts/Layout.astro';
import { useTranslations } from '../../i18n/utils';

// Import new redesigned components
import ServicesHero from '../../components/services/ServicesHero.astro';
import Capabilities from '../../components/services/Capabilities.astro';
import OurProcess from '../../components/services/OurProcess.astro';

const { lang } = Astro.params || { lang: 'en' };

if (lang && typeof lang === 'string' && !['en', 'es'].includes(lang)) {
	return new Response(null, {
		status: 404,
		statusText: 'Not Found',
	});
}

const t = useTranslations(lang as 'en' | 'es');
---

<Layout
	title={t('servicesNew.seo.title')}
	description={t('servicesNew.seo.description')}
	lang={lang}
>
	<img
		src="/images/new/services/Group 101.svg"
		alt=""
		class="services-bg-decoration"
		loading="eager"
	/>
	<ServicesHero lang={lang} />

	<Capabilities lang={lang} />

	<OurProcess lang={lang} />
</Layout>

<style>
	.services-bg-decoration {
		position: absolute;
		top: -80px;
		left: 0;
		width: 100%;
		height: 100%;
		object-fit: cover;
		z-index: -1;
		pointer-events: none;
		opacity: 0.6;
	}
</style>
