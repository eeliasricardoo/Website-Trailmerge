---
export const prerender = false;

export async function getStaticPaths() {
	return [{ params: { lang: 'en' } }, { params: { lang: 'es' } }];
}

import LayoutNew from '../../layouts/LayoutNew.astro';
import { useTranslations } from '../../i18n/utils';

// Import new redesigned components
import HeroNew from '../../components/new/HeroNew.astro';
import AsideSectionNew from '../../components/new/AsideSectionNew.astro';
import CompaniesSectionNew from '../../components/new/CompaniesSectionNew.astro';
import OurApproachNew from '../../components/new/OurApproachNew.astro';
import RecentProjectsNew from '../../components/new/RecentProjectsNew.astro';

const { lang } = Astro.params || { lang: 'en' };

if (lang && typeof lang === 'string' && !['en', 'es'].includes(lang)) {
	return new Response(null, {
		status: 404,
		statusText: 'Not Found',
	});
}

const t = useTranslations(lang as 'en' | 'es');
---

<LayoutNew title={t('homepage.seo.title')} description={t('homepage.seo.description')} lang={lang}>
	<HeroNew lang={lang} />
	<AsideSectionNew
		lang={lang}
		title="Take the design-first path to the top"
		text="Trailmerge equips enterprise operations and technology teams with strategic digital transformation consulting, user experience and product expertise, and custom software development, to conquer costly inefficiencies and level up your team's excellence."
	/>
	<CompaniesSectionNew lang={lang} />
	<OurApproachNew lang={lang} />
	<RecentProjectsNew lang={lang} />
</LayoutNew>
